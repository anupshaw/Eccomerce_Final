"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[814],{9814:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(8214),s=r(5861),a=r(885),o=r(2791),i=r(4880),u=r(159),c=r(7988),l={auth:"AuthForm_auth__QkFmu",formContainer:"AuthForm_formContainer__sZRvT",form:"AuthForm_form__nNwfT",actions:"AuthForm_actions__KBFIt"},m=r(184),f=function(){var e=(0,o.useState)(!0),t=(0,a.Z)(e,2),r=t[0],f=t[1],h=(0,o.useContext)(u.Z),d=(0,i.k6)(),p=(0,o.useRef)(),g=(0,o.useRef)(),x=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var s,a,o,i,u,c,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("submitting form"),t.preventDefault(),s=p.current.value,a=g.current.value,p.current.value="",g.current.value="",o=r?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyACWwhQRz6sD3dfeifgbz4FoSI4PjDO4BI":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyACWwhQRz6sD3dfeifgbz4FoSI4PjDO4BI",e.prev=7,e.next=10,fetch(o,{method:"POST",body:JSON.stringify({email:s,password:a,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 10:if((i=e.sent).ok){e.next=21;break}return e.next=14,i.json();case 14:if(u=e.sent,"Authentication failed",!(u&&u.error&&u.error.message)){e.next=19;break}throw u.error.message;case 19:e.next=27;break;case 21:return e.next=23,i.json();case 23:c=e.sent,l=new Date((new Date).getTime()+1e3*+c.expiresIn),h.login(c.email,c.idToken,l.toString()),r?d.replace("/about"):d.replace("/auth");case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(7),alert(e.t0);case 32:case"end":return e.stop()}}),e,null,[[7,29]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsx)("div",{className:l.auth,children:(0,m.jsxs)("div",{className:l.formContainer,children:[(0,m.jsx)("h1",{children:r?"Login":"Sign Up"}),(0,m.jsxs)("form",{className:l.form,onSubmit:x,children:[(0,m.jsx)("label",{htmlFor:"userEmail",children:"Email"}),(0,m.jsx)("input",{id:"userEmail",type:"email",ref:p,required:!0,autoFocus:!0}),(0,m.jsx)("label",{htmlFor:"userPassword",children:"Password"}),(0,m.jsx)("input",{id:"userPassword",type:"password",ref:g,required:!0}),(0,m.jsxs)("div",{className:l.actions,children:[(0,m.jsx)(c.Z,{type:"submit",className:l.btn,children:r?"Login":"Create Account"}),(0,m.jsx)(c.Z,{type:"button",className:l.btn,onClick:function(){f((function(e){return!e}))},children:r?"Create Account":"Login with existing account"})]})]})]})})},h=function(){return(0,m.jsx)(f,{})}}}]);
//# sourceMappingURL=814.3e4699cb.chunk.js.map